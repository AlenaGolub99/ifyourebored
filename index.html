<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>–ú–Ω–µ —Å–∫—É—á–Ω–æ</title>
  <style>
    :root { --bg:#0b1220; --card:#111a2f; --text:#e8eefc; --muted:#a8b3d6; }
    * { box-sizing: border-box; }
    body{
      margin:0; min-height:100vh; display:grid; place-items:center;
      background: radial-gradient(1200px 600px at 50% 20%, #1a2a55 0%, var(--bg) 55%);
      color:var(--text);
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      padding: 24px;
    }
    .card{
      width:min(720px,100%);
      background: color-mix(in srgb, var(--card) 92%, transparent);
      border:1px solid rgba(255,255,255,0.08);
      border-radius:22px;
      padding: 24px;
      box-shadow: 0 18px 60px rgba(0,0,0,0.45);
      backdrop-filter: blur(10px);
    }
    .top{
      display:grid; gap:10px; text-align:center; margin-bottom: 10px;
    }
    h1{ margin:0; font-size: clamp(28px, 3.2vw, 40px); }
    p{ margin:0; color: var(--muted); line-height:1.45; }
    .row{ display:flex; gap:10px; flex-wrap:wrap; justify-content:center; }
    button.primary{
      appearance:none; border:0; border-radius:14px;
      padding: 14px 18px; font-size:16px; font-weight:650; cursor:pointer;
      background: linear-gradient(135deg, #7c5cff, #37c6ff);
      color:#081022;
      box-shadow: 0 10px 28px rgba(55,198,255,0.25);
      transition: transform .08s ease, filter .15s ease;
    }
    button.primary:hover{ filter: brightness(1.03); }
    button.primary:active{ transform: translateY(1px) scale(0.99); }

    .result{
      margin-top: 14px;
      padding: 14px 16px;
      border-radius: 14px;
      background: rgba(255,255,255,0.06);
      border: 1px solid rgba(255,255,255,0.08);
      min-height: 52px;
      display:grid; place-items:center;
      font-size: 18px;
      opacity:0; transform: translateY(6px);
      transition: opacity .18s ease, transform .18s ease;
      text-align:center;
    }
    .result.show{ opacity:1; transform: translateY(0); }

    .panel{
      margin-top: 16px;
      padding: 14px;
      border-radius: 16px;
      background: rgba(255,255,255,0.04);
      border: 1px solid rgba(255,255,255,0.08);
    }
    .panel h2{
      margin: 0 0 10px;
      font-size: 14px;
      letter-spacing: .2px;
      color: rgba(232,238,252,0.92);
    }

    .chips{
      display:flex; flex-wrap:wrap; gap:8px;
    }
    .chip{
      user-select:none;
      cursor:pointer;
      border-radius: 999px;
      padding: 8px 10px;
      border: 1px solid rgba(255,255,255,0.14);
      background: rgba(255,255,255,0.04);
      color: rgba(232,238,252,0.9);
      font-size: 13px;
      display:flex; align-items:center; gap:6px;
      transition: transform .08s ease, background .15s ease, border-color .15s ease;
    }
    .chip:active{ transform: scale(0.99); }
    .chip[aria-pressed="true"]{
      background: rgba(55,198,255,0.14);
      border-color: rgba(55,198,255,0.45);
    }
    .chip small{ color: rgba(232,238,252,0.6); font-size: 12px; }

    .grid{
      display:grid;
      grid-template-columns: 1fr;
      gap: 10px;
    }
    @media (min-width: 720px){
      .grid{ grid-template-columns: 1.2fr .8fr; }
    }

    input[type="text"], textarea, select{
      width:100%;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,0.14);
      background: rgba(255,255,255,0.04);
      color: var(--text);
      padding: 10px 12px;
      outline: none;
    }
    textarea{ min-height: 70px; resize: vertical; }
    label{ font-size: 12px; color: rgba(232,238,252,0.72); display:block; margin: 8px 0 6px; }
    .muted{ color: rgba(232,238,252,0.6); font-size: 12px; line-height:1.35; }
    .actions{ display:flex; gap:10px; flex-wrap:wrap; }
    button.secondary{
      appearance:none; cursor:pointer;
      border-radius: 12px;
      padding: 10px 12px;
      border: 1px solid rgba(255,255,255,0.16);
      background: rgba(255,255,255,0.06);
      color: rgba(232,238,252,0.92);
      font-weight: 600;
    }
    button.danger{
      border-color: rgba(255,120,120,0.28);
      background: rgba(255,120,120,0.10);
    }
    .hint{
      margin-top: 10px;
      font-size: 12px;
      color: rgba(232,238,252,0.55);
      text-align:center;
    }
    kbd{
      font-family: inherit;
      font-size: 11px;
      padding: 2px 6px;
      border-radius: 6px;
      border: 1px solid rgba(255,255,255,0.18);
      background: rgba(255,255,255,0.06);
    }
  </style>
</head>
<body>
  <main class="card">
    <div class="top">
      <h1>–ú–Ω–µ —Å–∫—É—á–Ω–æ</h1>
      <p>–í—ã–±–µ—Ä–∏ —Ä–µ–∂–∏–º—ã (–ø–æ –∂–µ–ª–∞–Ω–∏—é) –∏ –Ω–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É ‚Äî –≤—ã–ø–∞–¥–µ—Ç —Å–ª—É—á–∞–π–Ω–æ–µ –∑–∞–Ω—è—Ç–∏–µ.</p>
      <div class="row">
        <button id="btn" class="primary" type="button">–ß–µ–º –º–Ω–µ –∑–∞–Ω—è—Ç—å—Å—è?</button>
      </div>
      <div id="result" class="result" aria-live="polite"></div>
      <div class="hint">–ú–æ–∂–Ω–æ –Ω–∞–∂–∞—Ç—å <kbd>Enter</kbd> –∏–ª–∏ <kbd>Space</kbd>, –∫–æ–≥–¥–∞ –∫–Ω–æ–ø–∫–∞ –≤ —Ñ–æ–∫—É—Å–µ</div>
    </div>

    <section class="panel">
      <h2>–†–µ–∂–∏–º—ã</h2>
      <div id="chips" class="chips" role="group" aria-label="–†–µ–∂–∏–º—ã (—Ñ–∏–ª—å—Ç—Ä—ã)"></div>
      <div class="muted" style="margin-top:10px">
        –ú–æ–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–µ–∂–∏–º–æ–≤ —Å—Ä–∞–∑—É. –í—ã–ø–∞–¥—É—Ç –∏–¥–µ–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–¥—Ö–æ–¥—è—Ç –≤—Å–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–º —Ä–µ–∂–∏–º–∞–º.
      </div>
    </section>

    <section class="panel">
      <h2>–°–≤–æ–∏ –∏–¥–µ–∏</h2>
      <div class="grid">
        <div>
          <label for="ideaText">–¢–µ–∫—Å—Ç –∏–¥–µ–∏</label>
          <textarea id="ideaText" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: ¬´–°–¥–µ–ª–∞—Ç—å –±—É–º–∞–∂–Ω—ã–π —Å–∞–º–æ–ª–µ—Ç–∏–∫ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å¬ª"></textarea>

          <label for="ideaTags">–¢–µ–≥–∏ (—Ä–µ–∂–∏–º—ã), –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–¥—Ö–æ–¥—è—Ç —ç—Ç–æ–π –∏–¥–µ–µ</label>
          <div id="tagChips" class="chips" role="group" aria-label="–¢–µ–≥–∏ –∏–¥–µ–∏"></div>

          <div class="actions" style="margin-top:10px">
            <button id="addIdea" class="secondary" type="button">–î–æ–±–∞–≤–∏—Ç—å –∏–¥–µ—é</button>
            <button id="clearIdeas" class="secondary danger" type="button" title="–£–¥–∞–ª–∏—Ç —Ç–æ–ª—å–∫–æ –≤–∞—à–∏ –∏–¥–µ–∏">–£–¥–∞–ª–∏—Ç—å –º–æ–∏ –∏–¥–µ–∏</button>
          </div>

          <div class="muted" style="margin-top:10px">
            –ò–¥–µ–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ —ç—Ç–æ–º –±—Ä–∞—É–∑–µ—Ä–µ (localStorage). –ù–∞ –¥—Ä—É–≥–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ —Å–ø–∏—Å–æ–∫ –±—É–¥–µ—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–π.
          </div>
        </div>

        <div>
          <label for="sourceMode">–ß—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏</label>
          <select id="sourceMode">
            <option value="all">–ò –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ, –∏ –º–æ–∏ –∏–¥–µ–∏</option>
            <option value="custom">–¢–æ–ª—å–∫–æ –º–æ–∏ –∏–¥–µ–∏</option>
            <option value="builtin">–¢–æ–ª—å–∫–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ</option>
          </select>

          <label for="customCount">–ú–æ–∏—Ö –∏–¥–µ–π —Å–µ–π—á–∞—Å</label>
          <input id="customCount" type="text" value="0" readonly />

          <label for="activeFilters">–í—ã–±—Ä–∞–Ω–æ —Ä–µ–∂–∏–º–æ–≤</label>
          <input id="activeFilters" type="text" value="0" readonly />

          <div class="muted" style="margin-top:10px">
            –ï—Å–ª–∏ –ø–æ –≤—ã–±—Ä–∞–Ω–Ω—ã–º —Ä–µ–∂–∏–º–∞–º –Ω–µ—Ç —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π ‚Äî –ø–æ—è–≤–∏—Ç—Å—è –ø–æ–¥—Å–∫–∞–∑–∫–∞, —á—Ç–æ –æ—Å–ª–∞–±–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã.
          </div>
        </div>
      </div>
    </section>
  </main>

  <script>
    // ====== –†–ï–ñ–ò–ú–´ (—Ç–µ–≥–∏) ======
    const TAGS = [
      { id: "home",    label: "–î–æ–º–∞" },
      { id: "outside", label: "–ù–∞ —É–ª–∏—Ü–µ" },
      { id: "short",   label: "–ù–∞ 5 –º–∏–Ω—É—Ç" },
      { id: "free",    label: "–ë–µ–∑ –¥–µ–Ω–µ–≥" },
      { id: "creative",label: "–¢–≤–æ—Ä—á–µ—Å—Ç–≤–æ" },
      { id: "active",  label: "–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å" },
      { id: "calm",    label: "–°–ø–æ–∫–æ–π–Ω–æ" },
      { id: "learn",   label: "–ü—Ä–æ–∫–∞—á–∫–∞" }
    ];

    // ====== –í–°–¢–†–û–ï–ù–ù–´–ï –ò–î–ï–ò (—Å —Ç–µ–≥–∞–º–∏) ======
    const builtInIdeas = [
      { text: "–ü–æ—á–∏—Ç–∞—Ç—å –∫–Ω–∏–≥—É 15‚Äì20 –º–∏–Ω—É—Ç", tags: ["home","calm","learn","free"] },
      { text: "–°–ª–µ–ø–∏—Ç—å –∏–∑ –ø–ª–∞—Å—Ç–∏–ª–∏–Ω–∞ —á—Ç–æ-–Ω–∏–±—É–¥—å —Å–º–µ—à–Ω–æ–µ", tags: ["home","creative"] },
      { text: "–°–¥–µ–ª–∞—Ç—å 10‚Äì20 –ø—Ä–∏—Å–µ–¥–∞–Ω–∏–π –∏ —Ä–∞—Å—Ç—è–∂–∫—É", tags: ["home","short","active","free"] },
      { text: "–ü–æ—Å–ª—É—à–∞—Ç—å –Ω–æ–≤—ã–π –∞–ª—å–±–æ–º –∏–ª–∏ –ø–ª–µ–π–ª–∏—Å—Ç", tags: ["home","calm","free"] },
      { text: "–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∫–æ—Ä–æ—Ç–∫–∏–π –¥–æ–∫—É–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π —Ä–æ–ª–∏–∫", tags: ["home","calm","learn","free"] },
      { text: "–ù–∞—Ä–∏—Å–æ–≤–∞—Ç—å 5-–º–∏–Ω—É—Ç–Ω—ã–π —Å–∫–µ—Ç—á (—á—Ç–æ —É–≥–æ–¥–Ω–æ)", tags: ["home","short","creative","free"] },
      { text: "–ù–∞–≤–µ—Å—Ç–∏ –ø–æ—Ä—è–¥–æ–∫ –Ω–∞ –æ–¥–Ω–æ–º –º–∞–ª–µ–Ω—å–∫–æ–º —É—á–∞—Å—Ç–∫–µ (—Å—Ç–æ–ª/–ø–æ–ª–∫–∞)", tags: ["home","short","free"] },
      { text: "–ü—Ä–∏–≥–æ—Ç–æ–≤–∏—Ç—å —á–∞–π/–∫–∞–∫–∞–æ –∏ —Å–¥–µ–ª–∞—Ç—å —É—é—Ç–Ω—É—é –ø–∞—É–∑—É", tags: ["home","calm"] },
      { text: "–í—ã—É—á–∏—Ç—å 10 –Ω–æ–≤—ã—Ö —Å–ª–æ–≤ (–ª—é–±–æ–π —è–∑—ã–∫)", tags: ["home","short","learn","free"] },
      { text: "–°–æ–±—Ä–∞—Ç—å –ø–∞–∑–ª / –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä / –ª–µ–≥–æ", tags: ["home","calm","creative"] },
      { text: "–ù–∞–ø–∏—Å–∞—Ç—å –º–∏–Ω–∏-–∏—Å—Ç–æ—Ä–∏—é –Ω–∞ 5 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π", tags: ["home","short","creative","free"] },
      { text: "–§–æ—Ç–æ-—á–µ–ª–ª–µ–Ω–¥–∂: 5 –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã—Ö –∫–∞–¥—Ä–æ–≤ –¥–æ–º–∞", tags: ["home","creative","free"] },
      { text: "–ü—Ä–æ–≥—É–ª—è—Ç—å—Å—è 10‚Äì15 –º–∏–Ω—É—Ç", tags: ["outside","active","free"] },
      { text: "–ü–æ—Å–ª—É—à–∞—Ç—å –ø–æ–¥–∫–∞—Å—Ç –Ω–∞ –ø—Ä–æ–≥—É–ª–∫–µ", tags: ["outside","calm","learn","free"] },
      { text: "–°–¥–µ–ª–∞—Ç—å –º–∏–Ω–∏-—Ü–µ–ª—å –Ω–∞ –¥–µ–Ω—å –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –µ—ë", tags: ["home","short","learn","free"] },
      { text: "–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å 3-–º–∏–Ω—É—Ç–Ω—É—é –º–µ–¥–∏—Ç–∞—Ü–∏—é", tags: ["home","short","calm","free"] },
      { text: "–°–¥–µ–ª–∞—Ç—å 20-–º–∏–Ω—É—Ç–Ω—É—é —É–±–æ—Ä–∫—É –ø–æ–¥ –º—É–∑—ã–∫—É", tags: ["home","active","free"] },
      { text: "–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å 1 –ª–µ–∫—Ü–∏—é/TED –Ω–∞ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—É—é —Ç–µ–º—É", tags: ["home","calm","learn","free"] }
    ];

    // ====== LOCALSTORAGE ======
    const LS_KEY = "bored_custom_ideas_v1";

    function loadCustomIdeas(){
      try{
        const raw = localStorage.getItem(LS_KEY);
        const parsed = raw ? JSON.parse(raw) : [];
        return Array.isArray(parsed) ? parsed : [];
      } catch { return []; }
    }
    function saveCustomIdeas(arr){
      localStorage.setItem(LS_KEY, JSON.stringify(arr));
    }

    let customIdeas = loadCustomIdeas();

    // ====== UI —ç–ª–µ–º–µ–Ω—Ç—ã ======
    const btn = document.getElementById("btn");
    const result = document.getElementById("result");
    const chipsWrap = document.getElementById("chips");
    const tagChipsWrap = document.getElementById("tagChips");

    const ideaText = document.getElementById("ideaText");
    const addIdeaBtn = document.getElementById("addIdea");
    const clearIdeasBtn = document.getElementById("clearIdeas");

    const sourceMode = document.getElementById("sourceMode");
    const customCount = document.getElementById("customCount");
    const activeFilters = document.getElementById("activeFilters");

    let lastPickKey = ""; // —á—Ç–æ–±—ã –Ω–µ –ø–æ–≤—Ç–æ—Ä—è–ª–æ—Å—å –ø–æ–¥—Ä—è–¥ (text + tags)

    // –í—ã–±—Ä–∞–Ω–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã (—Ä–µ–∂–∏–º—ã) –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
    const activeTagSet = new Set();

    // –í—ã–±—Ä–∞–Ω–Ω—ã–µ —Ç–µ–≥–∏ –¥–ª—è –Ω–æ–≤–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π –∏–¥–µ–∏
    const newIdeaTagSet = new Set();

    function renderChips(container, selectedSet, onToggle){
      container.innerHTML = "";
      TAGS.forEach(t => {
        const el = document.createElement("button");
        el.type = "button";
        el.className = "chip";
        el.setAttribute("aria-pressed", selectedSet.has(t.id) ? "true" : "false");
        el.textContent = t.label;

        el.addEventListener("click", () => {
          if (selectedSet.has(t.id)) selectedSet.delete(t.id);
          else selectedSet.add(t.id);

          el.setAttribute("aria-pressed", selectedSet.has(t.id) ? "true" : "false");
          onToggle?.();
        });

        container.appendChild(el);
      });
    }

    function updateCounters(){
      customCount.value = String(customIdeas.length);
      activeFilters.value = String(activeTagSet.size);
    }

    function matchesAllTags(ideaTags, requiredSet){
      for (const tag of requiredSet){
        if (!ideaTags.includes(tag)) return false;
      }
      return true;
    }

    function getPool(){
      const mode = sourceMode.value;
      let pool = [];

      if (mode === "all" || mode === "builtin") pool = pool.concat(builtInIdeas.map(x => ({...x, source:"builtin"})));
      if (mode === "all" || mode === "custom") pool = pool.concat(customIdeas.map(x => ({...x, source:"custom"})));

      // –µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω—ã —Ñ–∏–ª—å—Ç—Ä—ã ‚Äî –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å
      if (activeTagSet.size > 0){
        pool = pool.filter(item => matchesAllTags(item.tags || [], activeTagSet));
      }
      return pool;
    }

    function pickRandom(pool){
      if (pool.length === 0) return null;

      // –∏–∑–±–µ–≥–∞–µ–º –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è –ø–æ–¥—Ä—è–¥ (–µ—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ)
      let tries = 0;
      let item = null;

      while (tries < 10){
        const i = Math.floor(Math.random() * pool.length);
        item = pool[i];
        const key = `${item.text}::${(item.tags||[]).slice().sort().join(",")}`;
        if (pool.length === 1 || key !== lastPickKey){
          lastPickKey = key;
          return item;
        }
        tries++;
      }
      // –µ—Å–ª–∏ –Ω–µ –ø–æ–ª—É—á–∏–ª–æ—Å—å ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —á—Ç–æ –µ—Å—Ç—å
      const fallback = pool[Math.floor(Math.random() * pool.length)];
      lastPickKey = `${fallback.text}::${(fallback.tags||[]).slice().sort().join(",")}`;
      return fallback;
    }

    function show(text){
      result.textContent = text;
      result.classList.remove("show");
      void result.offsetWidth; // –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∞–Ω–∏–º–∞—Ü–∏–∏
      result.classList.add("show");
    }

    function tagLabel(id){
      const t = TAGS.find(x => x.id === id);
      return t ? t.label : id;
    }

    function showIdea(){
      const pool = getPool();
      const picked = pickRandom(pool);

      if (!picked){
        if (activeTagSet.size > 0){
          const chosen = [...activeTagSet].map(tagLabel).join(", ");
          show(`–ù–µ—Ç –∏–¥–µ–π –ø–æ–¥ —Ä–µ–∂–∏–º—ã: ${chosen}. –ü–æ–ø—Ä–æ–±—É–π –≤—ã–∫–ª—é—á–∏—Ç—å –æ–¥–∏–Ω —Ä–µ–∂–∏–º –∏–ª–∏ –¥–æ–±–∞–≤—å —Å–≤–æ–∏ –∏–¥–µ–∏ üôÇ`);
        } else {
          show("–°–ø–∏—Å–æ–∫ –∏–¥–µ–π –ø—É—Å—Ç. –î–æ–±–∞–≤—å —Å–≤–æ–∏ –∏–¥–µ–∏ –Ω–∏–∂–µ üôÇ");
        }
        return;
      }

      const tagText = (picked.tags && picked.tags.length)
        ? ` (${picked.tags.map(tagLabel).join(", ")})`
        : "";

      const sourceText = picked.source === "custom" ? "üìù " : "‚ú® ";
      show(`${sourceText}${picked.text}${tagText}`);
    }

    // ====== –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∏–¥–µ–π ======
    function addIdea(){
      const text = (ideaText.value || "").trim();
      if (!text){
        show("–ù–∞–ø–∏—à–∏ —Ç–µ–∫—Å—Ç –∏–¥–µ–∏ –≤ –ø–æ–ª–µ –Ω–∏–∂–µ üôÇ");
        return;
      }
      const tags = [...newIdeaTagSet];

      const newItem = { text, tags };
      customIdeas.unshift(newItem);
      saveCustomIdeas(customIdeas);

      ideaText.value = "";
      newIdeaTagSet.clear();
      renderChips(tagChipsWrap, newIdeaTagSet, updateCounters);
      updateCounters();
      show("–î–æ–±–∞–≤–ª–µ–Ω–æ! –¢–µ–ø–µ—Ä—å –º–æ–∂–µ—à—å —Å–Ω–æ–≤–∞ –Ω–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É üëá");
    }

    function clearCustomIdeas(){
      customIdeas = [];
      saveCustomIdeas(customIdeas);
      updateCounters();
      show("–¢–≤–æ–∏ –∏–¥–µ–∏ —É–¥–∞–ª–µ–Ω—ã. –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –æ—Å—Ç–∞–ª–∏—Å—å!");
    }

    // ====== –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è ======
    renderChips(chipsWrap, activeTagSet, () => {
      updateCounters();
    });

    renderChips(tagChipsWrap, newIdeaTagSet, () => {});

    updateCounters();

    btn.addEventListener("click", showIdea);
    addIdeaBtn.addEventListener("click", addIdea);
    clearIdeasBtn.addEventListener("click", clearCustomIdeas);

    // –£–¥–æ–±–Ω–æ: Ctrl+Enter –≤ –ø–æ–ª–µ –∏–¥–µ–∏ ‚Äî –¥–æ–±–∞–≤–∏—Ç—å
    ideaText.addEventListener("keydown", (e) => {
      if (e.ctrlKey && e.key === "Enter") addIdea();
    });
  </script>
</body>
</html>
